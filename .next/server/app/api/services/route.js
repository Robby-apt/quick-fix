/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/services/route";
exports.ids = ["app/api/services/route"];
exports.modules = {

/***/ "(rsc)/./app/api/services/route.ts":
/*!***********************************!*\
  !*** ./app/api/services/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/dist/esm/index.js\");\n/* harmony import */ var _lib_auth_session__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth/session */ \"(rsc)/./lib/auth/session.ts\");\n/* harmony import */ var _lib_db_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db/database */ \"(rsc)/./lib/db/database.ts\");\n\n\n\n\nconst CreateServiceSchema = zod__WEBPACK_IMPORTED_MODULE_1__.z.object({\n    title: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(5),\n    description: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(20),\n    category: zod__WEBPACK_IMPORTED_MODULE_1__.z.string().min(1),\n    priceType: zod__WEBPACK_IMPORTED_MODULE_1__.z[\"enum\"]([\n        'hourly',\n        'fixed'\n    ]),\n    basePrice: zod__WEBPACK_IMPORTED_MODULE_1__.z.number().positive()\n});\nasync function POST(request) {\n    try {\n        const session = await (0,_lib_auth_session__WEBPACK_IMPORTED_MODULE_2__.verifySession)();\n        if (!session || session.role !== 'handyman') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const validatedData = CreateServiceSchema.parse(body);\n        const profile = await (0,_lib_db_database__WEBPACK_IMPORTED_MODULE_3__.getProfileByUserId)(session.userId);\n        if (!profile) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Profile not found'\n            }, {\n                status: 404\n            });\n        }\n        const service = await (0,_lib_db_database__WEBPACK_IMPORTED_MODULE_3__.createService)({\n            title: validatedData.title,\n            description: validatedData.description,\n            category: validatedData.category,\n            price_type: validatedData.priceType,\n            base_price: validatedData.basePrice,\n            handyman_id: profile.id\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            service\n        });\n    } catch (error) {\n        console.error('Create service error:', error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_1__.z.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid input data',\n                details: error.errors\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(req) {\n    try {\n        let services;\n        const url = new URL(req.url);\n        const query = url.searchParams.get('query') || '';\n        const handymanId = url.searchParams.get('handymanId') ? Number(url.searchParams.get('handymanId')) : undefined;\n        if (query || handymanId) {\n            services = await (0,_lib_db_database__WEBPACK_IMPORTED_MODULE_3__.searchServices)(query, handymanId);\n        } else {\n            services = await (0,_lib_db_database__WEBPACK_IMPORTED_MODULE_3__.searchServices)();\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            services\n        });\n    } catch (error) {\n        console.error('Get services error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZS9yb2plYWwvRGVza3RvcC9xdWljay1maXgvYXBwL2FwaS9zZXJ2aWNlcy9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IHZlcmlmeVNlc3Npb24gfSBmcm9tICdAL2xpYi9hdXRoL3Nlc3Npb24nO1xuaW1wb3J0IHtcblx0Z2V0UHJvZmlsZUJ5VXNlcklkLFxuXHRjcmVhdGVTZXJ2aWNlLFxuXHRzZWFyY2hTZXJ2aWNlcyxcbn0gZnJvbSAnQC9saWIvZGIvZGF0YWJhc2UnO1xuXG5jb25zdCBDcmVhdGVTZXJ2aWNlU2NoZW1hID0gei5vYmplY3Qoe1xuXHR0aXRsZTogei5zdHJpbmcoKS5taW4oNSksXG5cdGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm1pbigyMCksXG5cdGNhdGVnb3J5OiB6LnN0cmluZygpLm1pbigxKSxcblx0cHJpY2VUeXBlOiB6LmVudW0oWydob3VybHknLCAnZml4ZWQnXSksXG5cdGJhc2VQcmljZTogei5udW1iZXIoKS5wb3NpdGl2ZSgpLFxufSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc2Vzc2lvbiA9IGF3YWl0IHZlcmlmeVNlc3Npb24oKTtcblx0XHRpZiAoIXNlc3Npb24gfHwgc2Vzc2lvbi5yb2xlICE9PSAnaGFuZHltYW4nKSB7XG5cdFx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG5cdFx0XHRcdHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sXG5cdFx0XHRcdHsgc3RhdHVzOiA0MDEgfVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cdFx0Y29uc3QgdmFsaWRhdGVkRGF0YSA9IENyZWF0ZVNlcnZpY2VTY2hlbWEucGFyc2UoYm9keSk7XG5cblx0XHRjb25zdCBwcm9maWxlID0gYXdhaXQgZ2V0UHJvZmlsZUJ5VXNlcklkKHNlc3Npb24udXNlcklkKTtcblx0XHRpZiAoIXByb2ZpbGUpIHtcblx0XHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcblx0XHRcdFx0eyBlcnJvcjogJ1Byb2ZpbGUgbm90IGZvdW5kJyB9LFxuXHRcdFx0XHR7IHN0YXR1czogNDA0IH1cblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc2VydmljZSA9IGF3YWl0IGNyZWF0ZVNlcnZpY2Uoe1xuXHRcdFx0dGl0bGU6IHZhbGlkYXRlZERhdGEudGl0bGUsXG5cdFx0XHRkZXNjcmlwdGlvbjogdmFsaWRhdGVkRGF0YS5kZXNjcmlwdGlvbixcblx0XHRcdGNhdGVnb3J5OiB2YWxpZGF0ZWREYXRhLmNhdGVnb3J5LFxuXHRcdFx0cHJpY2VfdHlwZTogdmFsaWRhdGVkRGF0YS5wcmljZVR5cGUsXG5cdFx0XHRiYXNlX3ByaWNlOiB2YWxpZGF0ZWREYXRhLmJhc2VQcmljZSxcblx0XHRcdGhhbmR5bWFuX2lkOiBwcm9maWxlLmlkLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgc2VydmljZSB9KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKCdDcmVhdGUgc2VydmljZSBlcnJvcjonLCBlcnJvcik7XG5cblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG5cdFx0XHRcdHsgZXJyb3I6ICdJbnZhbGlkIGlucHV0IGRhdGEnLCBkZXRhaWxzOiBlcnJvci5lcnJvcnMgfSxcblx0XHRcdFx0eyBzdGF0dXM6IDQwMCB9XG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcblx0XHRcdHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXG5cdFx0XHR7IHN0YXR1czogNTAwIH1cblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxOiBSZXF1ZXN0KSB7XG5cdHRyeSB7XG5cdFx0bGV0IHNlcnZpY2VzO1xuXHRcdGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCk7XG5cdFx0Y29uc3QgcXVlcnkgPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgncXVlcnknKSB8fCAnJztcblx0XHRjb25zdCBoYW5keW1hbklkID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2hhbmR5bWFuSWQnKVxuXHRcdFx0PyBOdW1iZXIodXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2hhbmR5bWFuSWQnKSlcblx0XHRcdDogdW5kZWZpbmVkO1xuXG5cdFx0aWYgKHF1ZXJ5IHx8IGhhbmR5bWFuSWQpIHtcblx0XHRcdHNlcnZpY2VzID0gYXdhaXQgc2VhcmNoU2VydmljZXMocXVlcnksIGhhbmR5bWFuSWQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXJ2aWNlcyA9IGF3YWl0IHNlYXJjaFNlcnZpY2VzKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc2VydmljZXMgfSk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcignR2V0IHNlcnZpY2VzIGVycm9yOicsIGVycm9yKTtcblx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG5cdFx0XHR7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxuXHRcdFx0eyBzdGF0dXM6IDUwMCB9XG5cdFx0KTtcblx0fVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInoiLCJ2ZXJpZnlTZXNzaW9uIiwiZ2V0UHJvZmlsZUJ5VXNlcklkIiwiY3JlYXRlU2VydmljZSIsInNlYXJjaFNlcnZpY2VzIiwiQ3JlYXRlU2VydmljZVNjaGVtYSIsIm9iamVjdCIsInRpdGxlIiwic3RyaW5nIiwibWluIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsInByaWNlVHlwZSIsImVudW0iLCJiYXNlUHJpY2UiLCJudW1iZXIiLCJwb3NpdGl2ZSIsIlBPU1QiLCJyZXF1ZXN0Iiwic2Vzc2lvbiIsInJvbGUiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJib2R5IiwidmFsaWRhdGVkRGF0YSIsInBhcnNlIiwicHJvZmlsZSIsInVzZXJJZCIsInNlcnZpY2UiLCJwcmljZV90eXBlIiwiYmFzZV9wcmljZSIsImhhbmR5bWFuX2lkIiwiaWQiLCJzdWNjZXNzIiwiY29uc29sZSIsIlpvZEVycm9yIiwiZGV0YWlscyIsImVycm9ycyIsIkdFVCIsInJlcSIsInNlcnZpY2VzIiwidXJsIiwiVVJMIiwicXVlcnkiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJoYW5keW1hbklkIiwiTnVtYmVyIiwidW5kZWZpbmVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/services/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth/session.ts":
/*!*****************************!*\
  !*** ./lib/auth/session.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   decrypt: () => (/* binding */ decrypt),\n/* harmony export */   deleteSession: () => (/* binding */ deleteSession),\n/* harmony export */   encrypt: () => (/* binding */ encrypt),\n/* harmony export */   getSessionFromRequest: () => (/* binding */ getSessionFromRequest),\n/* harmony export */   verifySession: () => (/* binding */ verifySession)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/webapi/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/webapi/jwt/verify.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\nconst secretKey = process.env.JWT_SECRET || 'your-secret-key-change-this-in-production';\nconst key = new TextEncoder().encode(secretKey);\n// filepath: [session.ts](http://_vscodecontentref_/7)\nasync function encrypt(payload) {\n    // Convert expiresAt to ISO string for JWT compatibility\n    const jwtPayload = {\n        ...payload,\n        expiresAt: payload.expiresAt.toISOString()\n    };\n    return await new jose__WEBPACK_IMPORTED_MODULE_1__.SignJWT(jwtPayload).setProtectedHeader({\n        alg: 'HS256'\n    }).setIssuedAt().setExpirationTime('7d').sign(key);\n}\n// filepath: [session.ts](http://_vscodecontentref_/8)\nasync function decrypt(input) {\n    const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_2__.jwtVerify)(input, key, {\n        algorithms: [\n            'HS256'\n        ]\n    });\n    return {\n        ...payload,\n        expiresAt: new Date(payload.expiresAt)\n    };\n}\nasync function createSession(userId, email, role) {\n    const expiresAt = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000); // 7 days\n    const session = await encrypt({\n        userId,\n        email,\n        role,\n        expiresAt\n    });\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    cookieStore.set('session', session, {\n        expires: expiresAt,\n        httpOnly: true,\n        secure: \"development\" === 'production',\n        sameSite: 'lax',\n        path: '/'\n    });\n}\nasync function verifySession() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    const cookie = cookieStore.get('session')?.value;\n    if (!cookie) return null;\n    try {\n        const session = await decrypt(cookie);\n        return session;\n    } catch (error) {\n        return null;\n    }\n}\nasync function deleteSession() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n    cookieStore.delete('session');\n}\nasync function getSessionFromRequest(request) {\n    const cookie = request.cookies.get('session')?.value;\n    if (!cookie) return null;\n    try {\n        const session = await decrypt(cookie);\n        return session;\n    } catch (error) {\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC9zZXNzaW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwQztBQUNIO0FBR3ZDLE1BQU1HLFlBQ0xDLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJO0FBQzNCLE1BQU1DLE1BQU0sSUFBSUMsY0FBY0MsTUFBTSxDQUFDTjtBQVNyQyxzREFBc0Q7QUFDL0MsZUFBZU8sUUFBUUMsT0FBdUI7SUFDcEQsd0RBQXdEO0lBQ3hELE1BQU1DLGFBQWE7UUFDbEIsR0FBR0QsT0FBTztRQUNWRSxXQUFXRixRQUFRRSxTQUFTLENBQUNDLFdBQVc7SUFDekM7SUFDQSxPQUFPLE1BQU0sSUFBSWQseUNBQU9BLENBQUNZLFlBQ3ZCRyxrQkFBa0IsQ0FBQztRQUFFQyxLQUFLO0lBQVEsR0FDbENDLFdBQVcsR0FDWEMsaUJBQWlCLENBQUMsTUFDbEJDLElBQUksQ0FBQ1o7QUFDUjtBQUVBLHNEQUFzRDtBQUMvQyxlQUFlYSxRQUFRQyxLQUFhO0lBQzFDLE1BQU0sRUFBRVYsT0FBTyxFQUFFLEdBQUcsTUFBTVYsK0NBQVNBLENBQUNvQixPQUFPZCxLQUFLO1FBQy9DZSxZQUFZO1lBQUM7U0FBUTtJQUN0QjtJQUNBLE9BQU87UUFDTixHQUFHWCxPQUFPO1FBQ1ZFLFdBQVcsSUFBSVUsS0FBS1osUUFBUUUsU0FBUztJQUN0QztBQUNEO0FBRU8sZUFBZVcsY0FDckJDLE1BQWMsRUFDZEMsS0FBYSxFQUNiQyxJQUFxQztJQUVyQyxNQUFNZCxZQUFZLElBQUlVLEtBQUtBLEtBQUtLLEdBQUcsS0FBSyxJQUFJLEtBQUssS0FBSyxLQUFLLE9BQU8sU0FBUztJQUMzRSxNQUFNQyxVQUFVLE1BQU1uQixRQUFRO1FBQUVlO1FBQVFDO1FBQU9DO1FBQU1kO0lBQVU7SUFFL0QsTUFBTWlCLGNBQWMsTUFBTTVCLHFEQUFPQTtJQUNqQzRCLFlBQVlDLEdBQUcsQ0FBQyxXQUFXRixTQUFTO1FBQ25DRyxTQUFTbkI7UUFDVG9CLFVBQVU7UUFDVkMsUUFBUTlCLGtCQUF5QjtRQUNqQytCLFVBQVU7UUFDVkMsTUFBTTtJQUNQO0FBQ0Q7QUFFTyxlQUFlQztJQUNyQixNQUFNUCxjQUFjLE1BQU01QixxREFBT0E7SUFDakMsTUFBTW9DLFNBQVNSLFlBQVlTLEdBQUcsQ0FBQyxZQUFZQztJQUMzQyxJQUFJLENBQUNGLFFBQVEsT0FBTztJQUVwQixJQUFJO1FBQ0gsTUFBTVQsVUFBVSxNQUFNVCxRQUFRa0I7UUFDOUIsT0FBT1Q7SUFDUixFQUFFLE9BQU9ZLE9BQU87UUFDZixPQUFPO0lBQ1I7QUFDRDtBQUVPLGVBQWVDO0lBQ3JCLE1BQU1aLGNBQWMsTUFBTTVCLHFEQUFPQTtJQUNqQzRCLFlBQVlhLE1BQU0sQ0FBQztBQUNwQjtBQUVPLGVBQWVDLHNCQUFzQkMsT0FBb0I7SUFDL0QsTUFBTVAsU0FBU08sUUFBUTNDLE9BQU8sQ0FBQ3FDLEdBQUcsQ0FBQyxZQUFZQztJQUMvQyxJQUFJLENBQUNGLFFBQVEsT0FBTztJQUVwQixJQUFJO1FBQ0gsTUFBTVQsVUFBVSxNQUFNVCxRQUFRa0I7UUFDOUIsT0FBT1Q7SUFDUixFQUFFLE9BQU9ZLE9BQU87UUFDZixPQUFPO0lBQ1I7QUFDRCIsInNvdXJjZXMiOlsiL2hvbWUvcm9qZWFsL0Rlc2t0b3AvcXVpY2stZml4L2xpYi9hdXRoL3Nlc3Npb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2lnbkpXVCwgand0VmVyaWZ5IH0gZnJvbSAnam9zZSc7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcbmltcG9ydCB0eXBlIHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbmNvbnN0IHNlY3JldEtleSA9XG5cdHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3lvdXItc2VjcmV0LWtleS1jaGFuZ2UtdGhpcy1pbi1wcm9kdWN0aW9uJztcbmNvbnN0IGtleSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzZWNyZXRLZXkpO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb25QYXlsb2FkIHtcblx0dXNlcklkOiBzdHJpbmc7XG5cdGVtYWlsOiBzdHJpbmc7XG5cdHJvbGU6ICdjbGllbnQnIHwgJ2hhbmR5bWFuJyB8ICdhZG1pbic7XG5cdGV4cGlyZXNBdDogRGF0ZTtcbn1cblxuLy8gZmlsZXBhdGg6IFtzZXNzaW9uLnRzXShodHRwOi8vX3ZzY29kZWNvbnRlbnRyZWZfLzcpXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5jcnlwdChwYXlsb2FkOiBTZXNzaW9uUGF5bG9hZCkge1xuXHQvLyBDb252ZXJ0IGV4cGlyZXNBdCB0byBJU08gc3RyaW5nIGZvciBKV1QgY29tcGF0aWJpbGl0eVxuXHRjb25zdCBqd3RQYXlsb2FkID0ge1xuXHRcdC4uLnBheWxvYWQsXG5cdFx0ZXhwaXJlc0F0OiBwYXlsb2FkLmV4cGlyZXNBdC50b0lTT1N0cmluZygpLFxuXHR9O1xuXHRyZXR1cm4gYXdhaXQgbmV3IFNpZ25KV1Qoand0UGF5bG9hZClcblx0XHQuc2V0UHJvdGVjdGVkSGVhZGVyKHsgYWxnOiAnSFMyNTYnIH0pXG5cdFx0LnNldElzc3VlZEF0KClcblx0XHQuc2V0RXhwaXJhdGlvblRpbWUoJzdkJylcblx0XHQuc2lnbihrZXkpO1xufVxuXG4vLyBmaWxlcGF0aDogW3Nlc3Npb24udHNdKGh0dHA6Ly9fdnNjb2RlY29udGVudHJlZl8vOClcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0KGlucHV0OiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25QYXlsb2FkPiB7XG5cdGNvbnN0IHsgcGF5bG9hZCB9ID0gYXdhaXQgand0VmVyaWZ5KGlucHV0LCBrZXksIHtcblx0XHRhbGdvcml0aG1zOiBbJ0hTMjU2J10sXG5cdH0pO1xuXHRyZXR1cm4ge1xuXHRcdC4uLnBheWxvYWQsXG5cdFx0ZXhwaXJlc0F0OiBuZXcgRGF0ZShwYXlsb2FkLmV4cGlyZXNBdCBhcyBzdHJpbmcpLFxuXHR9IGFzIFNlc3Npb25QYXlsb2FkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2Vzc2lvbihcblx0dXNlcklkOiBzdHJpbmcsXG5cdGVtYWlsOiBzdHJpbmcsXG5cdHJvbGU6ICdjbGllbnQnIHwgJ2hhbmR5bWFuJyB8ICdhZG1pbidcbikge1xuXHRjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApOyAvLyA3IGRheXNcblx0Y29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGVuY3J5cHQoeyB1c2VySWQsIGVtYWlsLCByb2xlLCBleHBpcmVzQXQgfSk7XG5cblx0Y29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XG5cdGNvb2tpZVN0b3JlLnNldCgnc2Vzc2lvbicsIHNlc3Npb24sIHtcblx0XHRleHBpcmVzOiBleHBpcmVzQXQsXG5cdFx0aHR0cE9ubHk6IHRydWUsXG5cdFx0c2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuXHRcdHNhbWVTaXRlOiAnbGF4Jyxcblx0XHRwYXRoOiAnLycsXG5cdH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5U2Vzc2lvbigpIHtcblx0Y29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XG5cdGNvbnN0IGNvb2tpZSA9IGNvb2tpZVN0b3JlLmdldCgnc2Vzc2lvbicpPy52YWx1ZTtcblx0aWYgKCFjb29raWUpIHJldHVybiBudWxsO1xuXG5cdHRyeSB7XG5cdFx0Y29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGRlY3J5cHQoY29va2llKTtcblx0XHRyZXR1cm4gc2Vzc2lvbjtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlU2Vzc2lvbigpIHtcblx0Y29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XG5cdGNvb2tpZVN0b3JlLmRlbGV0ZSgnc2Vzc2lvbicpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2Vzc2lvbkZyb21SZXF1ZXN0KHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG5cdGNvbnN0IGNvb2tpZSA9IHJlcXVlc3QuY29va2llcy5nZXQoJ3Nlc3Npb24nKT8udmFsdWU7XG5cdGlmICghY29va2llKSByZXR1cm4gbnVsbDtcblxuXHR0cnkge1xuXHRcdGNvbnN0IHNlc3Npb24gPSBhd2FpdCBkZWNyeXB0KGNvb2tpZSk7XG5cdFx0cmV0dXJuIHNlc3Npb247XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn1cbiJdLCJuYW1lcyI6WyJTaWduSldUIiwiand0VmVyaWZ5IiwiY29va2llcyIsInNlY3JldEtleSIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwia2V5IiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJlbmNyeXB0IiwicGF5bG9hZCIsImp3dFBheWxvYWQiLCJleHBpcmVzQXQiLCJ0b0lTT1N0cmluZyIsInNldFByb3RlY3RlZEhlYWRlciIsImFsZyIsInNldElzc3VlZEF0Iiwic2V0RXhwaXJhdGlvblRpbWUiLCJzaWduIiwiZGVjcnlwdCIsImlucHV0IiwiYWxnb3JpdGhtcyIsIkRhdGUiLCJjcmVhdGVTZXNzaW9uIiwidXNlcklkIiwiZW1haWwiLCJyb2xlIiwibm93Iiwic2Vzc2lvbiIsImNvb2tpZVN0b3JlIiwic2V0IiwiZXhwaXJlcyIsImh0dHBPbmx5Iiwic2VjdXJlIiwic2FtZVNpdGUiLCJwYXRoIiwidmVyaWZ5U2Vzc2lvbiIsImNvb2tpZSIsImdldCIsInZhbHVlIiwiZXJyb3IiLCJkZWxldGVTZXNzaW9uIiwiZGVsZXRlIiwiZ2V0U2Vzc2lvbkZyb21SZXF1ZXN0IiwicmVxdWVzdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth/session.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/database.ts":
/*!****************************!*\
  !*** ./lib/db/database.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBooking: () => (/* binding */ createBooking),\n/* harmony export */   createHandymanProfile: () => (/* binding */ createHandymanProfile),\n/* harmony export */   createMessage: () => (/* binding */ createMessage),\n/* harmony export */   createProfile: () => (/* binding */ createProfile),\n/* harmony export */   createReview: () => (/* binding */ createReview),\n/* harmony export */   createService: () => (/* binding */ createService),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   getBookingById: () => (/* binding */ getBookingById),\n/* harmony export */   getConversationMessages: () => (/* binding */ getConversationMessages),\n/* harmony export */   getDB: () => (/* binding */ getDB),\n/* harmony export */   getHandymanProfileById: () => (/* binding */ getHandymanProfileById),\n/* harmony export */   getProfileByUserId: () => (/* binding */ getProfileByUserId),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   getUserConversations: () => (/* binding */ getUserConversations),\n/* harmony export */   initDB: () => (/* binding */ initDB),\n/* harmony export */   rateUser: () => (/* binding */ rateUser),\n/* harmony export */   searchServices: () => (/* binding */ searchServices),\n/* harmony export */   updateBookingStatus: () => (/* binding */ updateBookingStatus),\n/* harmony export */   verifyCredentials: () => (/* binding */ verifyCredentials),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite */ \"(rsc)/./node_modules/sqlite/build/index.mjs\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nsqlite3__WEBPACK_IMPORTED_MODULE_0___default().verbose();\nlet db;\nasync function initDB() {\n    // Close existing connection if it exists\n    if (db) await db.close();\n    db = await (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n        filename: './quickfix.db',\n        driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n    });\n    // Enable foreign key support\n    await db.exec('PRAGMA foreign_keys = ON');\n    // Drop existing tables to ensure clean slate\n    await db.exec(`\n    DROP TABLE IF EXISTS technician_feedback;\n    DROP TABLE IF EXISTS customer_feedback;\n    DROP TABLE IF EXISTS messages;\n    DROP TABLE IF EXISTS ratings;\n    DROP TABLE IF EXISTS bookings;\n    DROP TABLE IF EXISTS technician_services;\n    DROP TABLE IF EXISTS services;\n    DROP TABLE IF EXISTS users;\n  `);\n    // Create tables with updated schema\n    await db.exec(`\n    CREATE TABLE users (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      name TEXT NOT NULL,  -- Changed to NOT NULL\n      email TEXT UNIQUE NOT NULL,\n      password TEXT NOT NULL,\n      phone TEXT NOT NULL DEFAULT '',\n      location TEXT NOT NULL DEFAULT '',\n      user_type TEXT CHECK(user_type IN ('client', 'technician', 'admin')) NOT NULL\n    );\n\n    CREATE TABLE services (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      name TEXT NOT NULL,\n      description TEXT\n    );\n\n    CREATE TABLE technician_services (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      technician_id INTEGER NOT NULL,\n      service_id INTEGER NOT NULL,\n      price REAL NOT NULL,\n      FOREIGN KEY (technician_id) REFERENCES users(id) ON DELETE CASCADE,\n      FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE CASCADE\n    );\n\n    CREATE TABLE bookings (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      client_id INTEGER NOT NULL,\n      technician_id INTEGER NOT NULL,\n      service_id INTEGER NOT NULL,\n      date_requested TEXT NOT NULL,\n      status TEXT CHECK(status IN ('pending', 'accepted', 'completed', 'cancelled')) DEFAULT 'pending',\n      FOREIGN KEY (client_id) REFERENCES users(id) ON DELETE CASCADE,\n      FOREIGN KEY (technician_id) REFERENCES users(id) ON DELETE CASCADE,\n      FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE CASCADE\n    );\n\n    CREATE TABLE ratings (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      booking_id INTEGER NOT NULL,\n      rater_id INTEGER NOT NULL,\n      ratee_id INTEGER NOT NULL,\n      rating INTEGER CHECK(rating BETWEEN 1 AND 5),\n      comment TEXT,\n      FOREIGN KEY (booking_id) REFERENCES bookings(id) ON DELETE CASCADE,\n      FOREIGN KEY (rater_id) REFERENCES users(id) ON DELETE CASCADE,\n      FOREIGN KEY (ratee_id) REFERENCES users(id) ON DELETE CASCADE\n    );\n\n    CREATE TABLE messages (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      sender_id INTEGER NOT NULL,\n      receiver_id INTEGER NOT NULL,\n      message TEXT NOT NULL,\n      sent_at TEXT DEFAULT CURRENT_TIMESTAMP,\n      FOREIGN KEY (sender_id) REFERENCES users(id) ON DELETE CASCADE,\n      FOREIGN KEY (receiver_id) REFERENCES users(id) ON DELETE CASCADE\n    );\n  `);\n    console.log('Database initialized with new schema');\n}\nasync function getDB() {\n    if (!db) {\n        await initDB();\n    }\n    return db;\n}\nasync function getUserByEmail(email) {\n    const db = await getDB();\n    const user = await db.get(`SELECT \n\t\t\tid, \n\t\t\temail, \n\t\t\tuser_type as role, \n\t\t\tname, \n\t\t\tphone, \n\t\t\tlocation, \n\t\t\tpassword as password_hash\n\t\tFROM users \n\t\tWHERE email = ?`, email);\n    return user ? {\n        ...user,\n        role: user.role\n    } : undefined;\n}\nasync function getUserById(id) {\n    const db = await getDB();\n    const user = await db.get(`SELECT \n            id, \n            email, \n            user_type as role, \n            name, \n            phone, \n            location\n        FROM users \n        WHERE id = ?`, id);\n    return user ? {\n        ...user,\n        role: user.role\n    } : undefined;\n}\nasync function createUser(email, password, role, name = '', phone = '', location = '') {\n    const db = await getDB();\n    const hashedPassword = await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().hash(password, 10);\n    const result = await db.run(`INSERT INTO users (name, email, password, phone, location, user_type)\n\t\t VALUES (?, ?, ?, ?, ?, ?)`, [\n        name,\n        email,\n        hashedPassword,\n        phone,\n        location,\n        role\n    ]);\n    const id = result.lastID;\n    if (typeof id !== 'number') {\n        throw new Error('Failed to create user: no ID returned from database.');\n    }\n    return {\n        id,\n        email,\n        role,\n        profile: {\n            first_name: name.split(' ')[0] || name,\n            last_name: name.split(' ').slice(1).join(' ') || '',\n            phone,\n            location\n        }\n    };\n}\nasync function verifyCredentials(email, password) {\n    const db = await getDB();\n    const user = await db.get('SELECT id, email, password, user_type as role, name, phone, location FROM users WHERE email = ?', email);\n    if (!user) return null;\n    const isValid = await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().compare(password, user.password);\n    return isValid ? {\n        ...user,\n        role: user.role\n    } : null;\n}\nasync function createBooking(clientId, technicianId, serviceId, dateRequested) {\n    const db = await getDB();\n    const result = await db.run(`INSERT INTO bookings (client_id, technician_id, service_id, date_requested)\n\t\t VALUES (?, ?, ?, ?)`, [\n        clientId,\n        technicianId,\n        serviceId,\n        dateRequested\n    ]);\n    if (!result.lastID) {\n        throw new Error('Failed to create booking');\n    }\n    return result.lastID;\n}\nasync function rateUser(bookingId, raterId, rateeId, rating, comment = '') {\n    const db = await getDB();\n    await db.run(`INSERT INTO ratings (booking_id, rater_id, ratee_id, rating, comment)\n\t\t VALUES (?, ?, ?, ?, ?)`, [\n        bookingId,\n        raterId,\n        rateeId,\n        rating,\n        comment\n    ]);\n}\nasync function searchServices(query = '', handymanId) {\n    const db = await getDB();\n    let sql = `\n        SELECT s.*, u.id as handyman_id, u.name as handyman_name\n        FROM services s\n        LEFT JOIN technician_services ts ON s.id = ts.service_id\n        LEFT JOIN users u ON ts.technician_id = u.id\n    `;\n    const params = [];\n    if (query) {\n        sql += ' WHERE s.name LIKE ?';\n        params.push(`%${query}%`);\n    }\n    if (handymanId) {\n        sql += query ? ' AND' : ' WHERE';\n        sql += ' u.id = ?';\n        params.push(handymanId);\n    }\n    const services = await db.all(sql, params);\n    return services;\n}\nasync function getProfileByUserId(userId) {\n    const db = await getDB();\n    const user = await db.get(`SELECT id, name, phone, location FROM users WHERE id = ?`, [\n        userId\n    ]);\n    if (!user) return null;\n    const [first_name, ...rest] = user.name.split(' ');\n    return {\n        id: user.id,\n        first_name,\n        last_name: rest.join(' '),\n        phone: user.phone,\n        location: user.location\n    };\n}\nasync function createService(service) {\n    const db = await getDB();\n    const result = await db.run(`INSERT INTO services (title, description, category, price_type, base_price, handyman_id)\n         VALUES (?, ?, ?, ?, ?, ?)`, [\n        service.title,\n        service.description,\n        service.category,\n        service.price_type,\n        service.base_price,\n        service.handyman_id\n    ]);\n    return {\n        id: result.lastID,\n        ...service\n    };\n}\nasync function verifyPassword(password, hash) {\n    return await bcrypt__WEBPACK_IMPORTED_MODULE_2___default().compare(password, hash);\n}\nasync function getHandymanProfileById(id) {\n    const db = await getDB();\n    const handyman = await db.get(`SELECT id, name, phone, location FROM users WHERE id = ? AND user_type = 'technician'`, id);\n    if (!handyman) return null;\n    const [first_name, ...rest] = handyman.name.split(' ');\n    return {\n        id: handyman.id,\n        first_name,\n        last_name: rest.join(' '),\n        phone: handyman.phone,\n        location: handyman.location\n    };\n}\nasync function createProfile({ user_id, first_name, last_name, phone, address, city, zip, bio }) {\n    const db = await getDB();\n    const result = await db.run(`INSERT INTO profiles (user_id, first_name, last_name, phone, address, city, zip, bio)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?)`, [\n        user_id,\n        first_name,\n        last_name,\n        phone,\n        address,\n        city,\n        zip,\n        bio\n    ]);\n    return {\n        id: result.lastID,\n        user_id,\n        first_name,\n        last_name,\n        phone,\n        address,\n        city,\n        zip,\n        bio\n    };\n}\nasync function createHandymanProfile({ id, service_category, experience_years, service_area, is_verified }) {\n    const db = await getDB();\n    const result = await db.run(`INSERT INTO handyman_profiles (profile_id, service_category, experience_years, service_area, is_verified)\n         VALUES (?, ?, ?, ?, ?)`, [\n        id,\n        service_category,\n        experience_years,\n        service_area,\n        is_verified ? 1 : 0\n    ]);\n    return {\n        id: result.lastID,\n        profile_id: id,\n        service_category,\n        experience_years,\n        service_area,\n        is_verified\n    };\n}\nasync function getBookingById(id) {\n    const db = await getDB();\n    return await db.get(`SELECT * FROM bookings WHERE id = ?`, id);\n}\nasync function updateBookingStatus(id, status) {\n    const db = await getDB();\n    await db.run(`UPDATE bookings SET status = ? WHERE id = ?`, [\n        status,\n        id\n    ]);\n}\nasync function createMessage({ sender_id, receiver_id, booking_id, content }) {\n    const db = await getDB();\n    const result = await db.run(`INSERT INTO messages (sender_id, receiver_id, booking_id, content, created_at)\n         VALUES (?, ?, ?, ?, datetime('now'))`, [\n        sender_id,\n        receiver_id,\n        booking_id ?? null,\n        content\n    ]);\n    return {\n        id: result.lastID,\n        sender_id,\n        receiver_id,\n        booking_id,\n        content,\n        created_at: new Date().toISOString()\n    };\n}\nasync function getConversationMessages(profileId, otherPartyId) {\n    const db = await getDB();\n    return await db.all(`SELECT * FROM messages\n         WHERE (sender_id = ? AND receiver_id = ?)\n            OR (sender_id = ? AND receiver_id = ?)\n         ORDER BY created_at ASC`, [\n        profileId,\n        otherPartyId,\n        otherPartyId,\n        profileId\n    ]);\n}\nasync function getUserConversations(profileId) {\n    const db = await getDB();\n    return await db.all(`SELECT\n            m.*,\n            u1.name as sender_name,\n            u2.name as receiver_name\n        FROM messages m\n        LEFT JOIN users u1 ON m.sender_id = u1.id\n        LEFT JOIN users u2 ON m.receiver_id = u2.id\n        WHERE m.sender_id = ? OR m.receiver_id = ?\n        GROUP BY m.receiver_id, m.sender_id\n        ORDER BY m.created_at DESC`, [\n        profileId,\n        profileId\n    ]);\n}\nasync function createReview({ booking_id, client_id, handyman_id, rating, comment }) {\n    const db = await getDB();\n    const result = await db.run(`INSERT INTO reviews (booking_id, client_id, handyman_id, rating, comment, created_at)\n         VALUES (?, ?, ?, ?, ?, datetime('now'))`, [\n        booking_id,\n        client_id,\n        handyman_id,\n        rating,\n        comment\n    ]);\n    return {\n        id: result.lastID,\n        booking_id,\n        client_id,\n        handyman_id,\n        rating,\n        comment,\n        created_at: new Date().toISOString()\n    };\n}\n// Add this to ensure proper cleanup\nprocess.on('exit', async ()=>{\n    if (db) {\n        await db.close();\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztRQUNBMkMsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO0lBQ25DO0FBQ0Q7QUFFQSxvQ0FBb0M7QUFDcENPLFFBQVFDLEVBQUUsQ0FBQyxRQUFRO0lBQ2xCLElBQUlyRyxJQUFJO1FBQ1AsTUFBTUEsR0FBR0UsS0FBSztJQUNmO0FBQ0QiLCJzb3VyY2VzIjpbIi9ob21lL3JvamVhbC9EZXNrdG9wL3F1aWNrLWZpeC9saWIvZGIvZGF0YWJhc2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbGl0ZTMgZnJvbSAnc3FsaXRlMyc7XG5pbXBvcnQgeyBvcGVuLCBEYXRhYmFzZSB9IGZyb20gJ3NxbGl0ZSc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5cbnNxbGl0ZTMudmVyYm9zZSgpO1xuXG5sZXQgZGI6IERhdGFiYXNlPHNxbGl0ZTMuRGF0YWJhc2UsIHNxbGl0ZTMuU3RhdGVtZW50PjtcblxuZXhwb3J0IHR5cGUgVXNlciA9IHtcblx0aWQ6IG51bWJlcjtcblx0ZW1haWw6IHN0cmluZztcblx0cm9sZTogJ2NsaWVudCcgfCAndGVjaG5pY2lhbicgfCAnYWRtaW4nO1xuXHRwcm9maWxlOiB7XG5cdFx0Zmlyc3RfbmFtZTogc3RyaW5nO1xuXHRcdGxhc3RfbmFtZTogc3RyaW5nO1xuXHRcdHBob25lOiBzdHJpbmc7XG5cdFx0bG9jYXRpb246IHN0cmluZztcblx0fTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0REIoKSB7XG5cdC8vIENsb3NlIGV4aXN0aW5nIGNvbm5lY3Rpb24gaWYgaXQgZXhpc3RzXG5cdGlmIChkYikgYXdhaXQgZGIuY2xvc2UoKTtcblxuXHRkYiA9IGF3YWl0IG9wZW4oe1xuXHRcdGZpbGVuYW1lOiAnLi9xdWlja2ZpeC5kYicsXG5cdFx0ZHJpdmVyOiBzcWxpdGUzLkRhdGFiYXNlLFxuXHR9KTtcblxuXHQvLyBFbmFibGUgZm9yZWlnbiBrZXkgc3VwcG9ydFxuXHRhd2FpdCBkYi5leGVjKCdQUkFHTUEgZm9yZWlnbl9rZXlzID0gT04nKTtcblxuXHQvLyBEcm9wIGV4aXN0aW5nIHRhYmxlcyB0byBlbnN1cmUgY2xlYW4gc2xhdGVcblx0YXdhaXQgZGIuZXhlYyhgXG4gICAgRFJPUCBUQUJMRSBJRiBFWElTVFMgdGVjaG5pY2lhbl9mZWVkYmFjaztcbiAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyBjdXN0b21lcl9mZWVkYmFjaztcbiAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyBtZXNzYWdlcztcbiAgICBEUk9QIFRBQkxFIElGIEVYSVNUUyByYXRpbmdzO1xuICAgIERST1AgVEFCTEUgSUYgRVhJU1RTIGJvb2tpbmdzO1xuICAgIERST1AgVEFCTEUgSUYgRVhJU1RTIHRlY2huaWNpYW5fc2VydmljZXM7XG4gICAgRFJPUCBUQUJMRSBJRiBFWElTVFMgc2VydmljZXM7XG4gICAgRFJPUCBUQUJMRSBJRiBFWElTVFMgdXNlcnM7XG4gIGApO1xuXG5cdC8vIENyZWF0ZSB0YWJsZXMgd2l0aCB1cGRhdGVkIHNjaGVtYVxuXHRhd2FpdCBkYi5leGVjKGBcbiAgICBDUkVBVEUgVEFCTEUgdXNlcnMgKFxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgbmFtZSBURVhUIE5PVCBOVUxMLCAgLS0gQ2hhbmdlZCB0byBOT1QgTlVMTFxuICAgICAgZW1haWwgVEVYVCBVTklRVUUgTk9UIE5VTEwsXG4gICAgICBwYXNzd29yZCBURVhUIE5PVCBOVUxMLFxuICAgICAgcGhvbmUgVEVYVCBOT1QgTlVMTCBERUZBVUxUICcnLFxuICAgICAgbG9jYXRpb24gVEVYVCBOT1QgTlVMTCBERUZBVUxUICcnLFxuICAgICAgdXNlcl90eXBlIFRFWFQgQ0hFQ0sodXNlcl90eXBlIElOICgnY2xpZW50JywgJ3RlY2huaWNpYW4nLCAnYWRtaW4nKSkgTk9UIE5VTExcbiAgICApO1xuXG4gICAgQ1JFQVRFIFRBQkxFIHNlcnZpY2VzIChcbiAgICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVkgQVVUT0lOQ1JFTUVOVCxcbiAgICAgIG5hbWUgVEVYVCBOT1QgTlVMTCxcbiAgICAgIGRlc2NyaXB0aW9uIFRFWFRcbiAgICApO1xuXG4gICAgQ1JFQVRFIFRBQkxFIHRlY2huaWNpYW5fc2VydmljZXMgKFxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgdGVjaG5pY2lhbl9pZCBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgc2VydmljZV9pZCBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgcHJpY2UgUkVBTCBOT1QgTlVMTCxcbiAgICAgIEZPUkVJR04gS0VZICh0ZWNobmljaWFuX2lkKSBSRUZFUkVOQ0VTIHVzZXJzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcbiAgICAgIEZPUkVJR04gS0VZIChzZXJ2aWNlX2lkKSBSRUZFUkVOQ0VTIHNlcnZpY2VzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICAgICk7XG5cbiAgICBDUkVBVEUgVEFCTEUgYm9va2luZ3MgKFxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgY2xpZW50X2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICB0ZWNobmljaWFuX2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICBzZXJ2aWNlX2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICBkYXRlX3JlcXVlc3RlZCBURVhUIE5PVCBOVUxMLFxuICAgICAgc3RhdHVzIFRFWFQgQ0hFQ0soc3RhdHVzIElOICgncGVuZGluZycsICdhY2NlcHRlZCcsICdjb21wbGV0ZWQnLCAnY2FuY2VsbGVkJykpIERFRkFVTFQgJ3BlbmRpbmcnLFxuICAgICAgRk9SRUlHTiBLRVkgKGNsaWVudF9pZCkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgICBGT1JFSUdOIEtFWSAodGVjaG5pY2lhbl9pZCkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgICBGT1JFSUdOIEtFWSAoc2VydmljZV9pZCkgUkVGRVJFTkNFUyBzZXJ2aWNlcyhpZCkgT04gREVMRVRFIENBU0NBREVcbiAgICApO1xuXG4gICAgQ1JFQVRFIFRBQkxFIHJhdGluZ3MgKFxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgYm9va2luZ19pZCBJTlRFR0VSIE5PVCBOVUxMLFxuICAgICAgcmF0ZXJfaWQgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgIHJhdGVlX2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICByYXRpbmcgSU5URUdFUiBDSEVDSyhyYXRpbmcgQkVUV0VFTiAxIEFORCA1KSxcbiAgICAgIGNvbW1lbnQgVEVYVCxcbiAgICAgIEZPUkVJR04gS0VZIChib29raW5nX2lkKSBSRUZFUkVOQ0VTIGJvb2tpbmdzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcbiAgICAgIEZPUkVJR04gS0VZIChyYXRlcl9pZCkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgICBGT1JFSUdOIEtFWSAocmF0ZWVfaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFXG4gICAgKTtcblxuICAgIENSRUFURSBUQUJMRSBtZXNzYWdlcyAoXG4gICAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgICBzZW5kZXJfaWQgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgIHJlY2VpdmVyX2lkIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICBtZXNzYWdlIFRFWFQgTk9UIE5VTEwsXG4gICAgICBzZW50X2F0IFRFWFQgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgIEZPUkVJR04gS0VZIChzZW5kZXJfaWQpIFJFRkVSRU5DRVMgdXNlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFLFxuICAgICAgRk9SRUlHTiBLRVkgKHJlY2VpdmVyX2lkKSBSRUZFUkVOQ0VTIHVzZXJzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERVxuICAgICk7XG4gIGApO1xuXG5cdGNvbnNvbGUubG9nKCdEYXRhYmFzZSBpbml0aWFsaXplZCB3aXRoIG5ldyBzY2hlbWEnKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERCKCkge1xuXHRpZiAoIWRiKSB7XG5cdFx0YXdhaXQgaW5pdERCKCk7XG5cdH1cblx0cmV0dXJuIGRiO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG5cdGNvbnN0IGRiID0gYXdhaXQgZ2V0REIoKTtcblx0Y29uc3QgdXNlciA9IGF3YWl0IGRiLmdldChcblx0XHRgU0VMRUNUIFxuXHRcdFx0aWQsIFxuXHRcdFx0ZW1haWwsIFxuXHRcdFx0dXNlcl90eXBlIGFzIHJvbGUsIFxuXHRcdFx0bmFtZSwgXG5cdFx0XHRwaG9uZSwgXG5cdFx0XHRsb2NhdGlvbiwgXG5cdFx0XHRwYXNzd29yZCBhcyBwYXNzd29yZF9oYXNoXG5cdFx0RlJPTSB1c2VycyBcblx0XHRXSEVSRSBlbWFpbCA9ID9gLFxuXHRcdGVtYWlsXG5cdCk7XG5cdHJldHVybiB1c2VyID8geyAuLi51c2VyLCByb2xlOiB1c2VyLnJvbGUgfSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUlkKGlkOiBudW1iZXIgfCBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuXHRjb25zdCBkYiA9IGF3YWl0IGdldERCKCk7XG5cdGNvbnN0IHVzZXIgPSBhd2FpdCBkYi5nZXQoXG5cdFx0YFNFTEVDVCBcbiAgICAgICAgICAgIGlkLCBcbiAgICAgICAgICAgIGVtYWlsLCBcbiAgICAgICAgICAgIHVzZXJfdHlwZSBhcyByb2xlLCBcbiAgICAgICAgICAgIG5hbWUsIFxuICAgICAgICAgICAgcGhvbmUsIFxuICAgICAgICAgICAgbG9jYXRpb25cbiAgICAgICAgRlJPTSB1c2VycyBcbiAgICAgICAgV0hFUkUgaWQgPSA/YCxcblx0XHRpZFxuXHQpO1xuXHRyZXR1cm4gdXNlciA/IHsgLi4udXNlciwgcm9sZTogdXNlci5yb2xlIH0gOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVVc2VyKFxuXHRlbWFpbDogc3RyaW5nLFxuXHRwYXNzd29yZDogc3RyaW5nLFxuXHRyb2xlOiAnY2xpZW50JyB8ICd0ZWNobmljaWFuJyB8ICdhZG1pbicsXG5cdG5hbWU6IHN0cmluZyA9ICcnLFxuXHRwaG9uZTogc3RyaW5nID0gJycsXG5cdGxvY2F0aW9uOiBzdHJpbmcgPSAnJ1xuKTogUHJvbWlzZTxVc2VyPiB7XG5cdGNvbnN0IGRiID0gYXdhaXQgZ2V0REIoKTtcblx0Y29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xuXG5cdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnJ1bihcblx0XHRgSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcGhvbmUsIGxvY2F0aW9uLCB1c2VyX3R5cGUpXG5cdFx0IFZBTFVFUyAoPywgPywgPywgPywgPywgPylgLFxuXHRcdFtuYW1lLCBlbWFpbCwgaGFzaGVkUGFzc3dvcmQsIHBob25lLCBsb2NhdGlvbiwgcm9sZV1cblx0KTtcblxuXHRjb25zdCBpZCA9IHJlc3VsdC5sYXN0SUQ7XG5cdGlmICh0eXBlb2YgaWQgIT09ICdudW1iZXInKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHVzZXI6IG5vIElEIHJldHVybmVkIGZyb20gZGF0YWJhc2UuJyk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGlkLFxuXHRcdGVtYWlsLFxuXHRcdHJvbGUsXG5cdFx0cHJvZmlsZToge1xuXHRcdFx0Zmlyc3RfbmFtZTogbmFtZS5zcGxpdCgnICcpWzBdIHx8IG5hbWUsXG5cdFx0XHRsYXN0X25hbWU6IG5hbWUuc3BsaXQoJyAnKS5zbGljZSgxKS5qb2luKCcgJykgfHwgJycsXG5cdFx0XHRwaG9uZSxcblx0XHRcdGxvY2F0aW9uLFxuXHRcdH0sXG5cdH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlDcmVkZW50aWFscyhcblx0ZW1haWw6IHN0cmluZyxcblx0cGFzc3dvcmQ6IHN0cmluZ1xuKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4ge1xuXHRjb25zdCBkYiA9IGF3YWl0IGdldERCKCk7XG5cdGNvbnN0IHVzZXIgPSBhd2FpdCBkYi5nZXQoXG5cdFx0J1NFTEVDVCBpZCwgZW1haWwsIHBhc3N3b3JkLCB1c2VyX3R5cGUgYXMgcm9sZSwgbmFtZSwgcGhvbmUsIGxvY2F0aW9uIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSA/Jyxcblx0XHRlbWFpbFxuXHQpO1xuXG5cdGlmICghdXNlcikgcmV0dXJuIG51bGw7XG5cblx0Y29uc3QgaXNWYWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcblx0cmV0dXJuIGlzVmFsaWQgPyB7IC4uLnVzZXIsIHJvbGU6IHVzZXIucm9sZSB9IDogbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJvb2tpbmcoXG5cdGNsaWVudElkOiBudW1iZXIsXG5cdHRlY2huaWNpYW5JZDogbnVtYmVyLFxuXHRzZXJ2aWNlSWQ6IG51bWJlcixcblx0ZGF0ZVJlcXVlc3RlZDogc3RyaW5nXG4pOiBQcm9taXNlPG51bWJlcj4ge1xuXHRjb25zdCBkYiA9IGF3YWl0IGdldERCKCk7XG5cdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnJ1bihcblx0XHRgSU5TRVJUIElOVE8gYm9va2luZ3MgKGNsaWVudF9pZCwgdGVjaG5pY2lhbl9pZCwgc2VydmljZV9pZCwgZGF0ZV9yZXF1ZXN0ZWQpXG5cdFx0IFZBTFVFUyAoPywgPywgPywgPylgLFxuXHRcdFtjbGllbnRJZCwgdGVjaG5pY2lhbklkLCBzZXJ2aWNlSWQsIGRhdGVSZXF1ZXN0ZWRdXG5cdCk7XG5cblx0aWYgKCFyZXN1bHQubGFzdElEKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGJvb2tpbmcnKTtcblx0fVxuXG5cdHJldHVybiByZXN1bHQubGFzdElEO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmF0ZVVzZXIoXG5cdGJvb2tpbmdJZDogbnVtYmVyLFxuXHRyYXRlcklkOiBudW1iZXIsXG5cdHJhdGVlSWQ6IG51bWJlcixcblx0cmF0aW5nOiBudW1iZXIsXG5cdGNvbW1lbnQ6IHN0cmluZyA9ICcnXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgZGIgPSBhd2FpdCBnZXREQigpO1xuXHRhd2FpdCBkYi5ydW4oXG5cdFx0YElOU0VSVCBJTlRPIHJhdGluZ3MgKGJvb2tpbmdfaWQsIHJhdGVyX2lkLCByYXRlZV9pZCwgcmF0aW5nLCBjb21tZW50KVxuXHRcdCBWQUxVRVMgKD8sID8sID8sID8sID8pYCxcblx0XHRbYm9va2luZ0lkLCByYXRlcklkLCByYXRlZUlkLCByYXRpbmcsIGNvbW1lbnRdXG5cdCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hTZXJ2aWNlcyhxdWVyeTogc3RyaW5nID0gJycsIGhhbmR5bWFuSWQ/OiBudW1iZXIpIHtcblx0Y29uc3QgZGIgPSBhd2FpdCBnZXREQigpO1xuXHRsZXQgc3FsID0gYFxuICAgICAgICBTRUxFQ1Qgcy4qLCB1LmlkIGFzIGhhbmR5bWFuX2lkLCB1Lm5hbWUgYXMgaGFuZHltYW5fbmFtZVxuICAgICAgICBGUk9NIHNlcnZpY2VzIHNcbiAgICAgICAgTEVGVCBKT0lOIHRlY2huaWNpYW5fc2VydmljZXMgdHMgT04gcy5pZCA9IHRzLnNlcnZpY2VfaWRcbiAgICAgICAgTEVGVCBKT0lOIHVzZXJzIHUgT04gdHMudGVjaG5pY2lhbl9pZCA9IHUuaWRcbiAgICBgO1xuXHRjb25zdCBwYXJhbXM6IGFueVtdID0gW107XG5cblx0aWYgKHF1ZXJ5KSB7XG5cdFx0c3FsICs9ICcgV0hFUkUgcy5uYW1lIExJS0UgPyc7XG5cdFx0cGFyYW1zLnB1c2goYCUke3F1ZXJ5fSVgKTtcblx0fVxuXHRpZiAoaGFuZHltYW5JZCkge1xuXHRcdHNxbCArPSBxdWVyeSA/ICcgQU5EJyA6ICcgV0hFUkUnO1xuXHRcdHNxbCArPSAnIHUuaWQgPSA/Jztcblx0XHRwYXJhbXMucHVzaChoYW5keW1hbklkKTtcblx0fVxuXG5cdGNvbnN0IHNlcnZpY2VzID0gYXdhaXQgZGIuYWxsKHNxbCwgcGFyYW1zKTtcblx0cmV0dXJuIHNlcnZpY2VzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZmlsZUJ5VXNlcklkKHVzZXJJZDogc3RyaW5nIHwgbnVtYmVyKSB7XG5cdGNvbnN0IGRiID0gYXdhaXQgZ2V0REIoKTtcblx0Y29uc3QgdXNlciA9IGF3YWl0IGRiLmdldChcblx0XHRgU0VMRUNUIGlkLCBuYW1lLCBwaG9uZSwgbG9jYXRpb24gRlJPTSB1c2VycyBXSEVSRSBpZCA9ID9gLFxuXHRcdFt1c2VySWRdXG5cdCk7XG5cdGlmICghdXNlcikgcmV0dXJuIG51bGw7XG5cdGNvbnN0IFtmaXJzdF9uYW1lLCAuLi5yZXN0XSA9IHVzZXIubmFtZS5zcGxpdCgnICcpO1xuXHRyZXR1cm4ge1xuXHRcdGlkOiB1c2VyLmlkLFxuXHRcdGZpcnN0X25hbWUsXG5cdFx0bGFzdF9uYW1lOiByZXN0LmpvaW4oJyAnKSxcblx0XHRwaG9uZTogdXNlci5waG9uZSxcblx0XHRsb2NhdGlvbjogdXNlci5sb2NhdGlvbixcblx0fTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNlcnZpY2Uoc2VydmljZToge1xuXHR0aXRsZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRjYXRlZ29yeTogc3RyaW5nO1xuXHRwcmljZV90eXBlOiBzdHJpbmc7XG5cdGJhc2VfcHJpY2U6IG51bWJlcjtcblx0aGFuZHltYW5faWQ6IG51bWJlcjtcbn0pIHtcblx0Y29uc3QgZGIgPSBhd2FpdCBnZXREQigpO1xuXHRjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5ydW4oXG5cdFx0YElOU0VSVCBJTlRPIHNlcnZpY2VzICh0aXRsZSwgZGVzY3JpcHRpb24sIGNhdGVnb3J5LCBwcmljZV90eXBlLCBiYXNlX3ByaWNlLCBoYW5keW1hbl9pZClcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPylgLFxuXHRcdFtcblx0XHRcdHNlcnZpY2UudGl0bGUsXG5cdFx0XHRzZXJ2aWNlLmRlc2NyaXB0aW9uLFxuXHRcdFx0c2VydmljZS5jYXRlZ29yeSxcblx0XHRcdHNlcnZpY2UucHJpY2VfdHlwZSxcblx0XHRcdHNlcnZpY2UuYmFzZV9wcmljZSxcblx0XHRcdHNlcnZpY2UuaGFuZHltYW5faWQsXG5cdFx0XVxuXHQpO1xuXHRyZXR1cm4geyBpZDogcmVzdWx0Lmxhc3RJRCwgLi4uc2VydmljZSB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5UGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZywgaGFzaDogc3RyaW5nKSB7XG5cdHJldHVybiBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRIYW5keW1hblByb2ZpbGVCeUlkKGlkOiBudW1iZXIgfCBzdHJpbmcpIHtcblx0Y29uc3QgZGIgPSBhd2FpdCBnZXREQigpO1xuXHRjb25zdCBoYW5keW1hbiA9IGF3YWl0IGRiLmdldChcblx0XHRgU0VMRUNUIGlkLCBuYW1lLCBwaG9uZSwgbG9jYXRpb24gRlJPTSB1c2VycyBXSEVSRSBpZCA9ID8gQU5EIHVzZXJfdHlwZSA9ICd0ZWNobmljaWFuJ2AsXG5cdFx0aWRcblx0KTtcblx0aWYgKCFoYW5keW1hbikgcmV0dXJuIG51bGw7XG5cdGNvbnN0IFtmaXJzdF9uYW1lLCAuLi5yZXN0XSA9IGhhbmR5bWFuLm5hbWUuc3BsaXQoJyAnKTtcblx0cmV0dXJuIHtcblx0XHRpZDogaGFuZHltYW4uaWQsXG5cdFx0Zmlyc3RfbmFtZSxcblx0XHRsYXN0X25hbWU6IHJlc3Quam9pbignICcpLFxuXHRcdHBob25lOiBoYW5keW1hbi5waG9uZSxcblx0XHRsb2NhdGlvbjogaGFuZHltYW4ubG9jYXRpb24sXG5cdH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVQcm9maWxlKHtcblx0dXNlcl9pZCxcblx0Zmlyc3RfbmFtZSxcblx0bGFzdF9uYW1lLFxuXHRwaG9uZSxcblx0YWRkcmVzcyxcblx0Y2l0eSxcblx0emlwLFxuXHRiaW8sXG59OiB7XG5cdHVzZXJfaWQ6IG51bWJlcjtcblx0Zmlyc3RfbmFtZTogc3RyaW5nO1xuXHRsYXN0X25hbWU6IHN0cmluZztcblx0cGhvbmU6IHN0cmluZztcblx0YWRkcmVzczogc3RyaW5nO1xuXHRjaXR5OiBzdHJpbmc7XG5cdHppcDogc3RyaW5nO1xuXHRiaW86IHN0cmluZztcbn0pIHtcblx0Y29uc3QgZGIgPSBhd2FpdCBnZXREQigpO1xuXHRjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5ydW4oXG5cdFx0YElOU0VSVCBJTlRPIHByb2ZpbGVzICh1c2VyX2lkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIHBob25lLCBhZGRyZXNzLCBjaXR5LCB6aXAsIGJpbylcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPylgLFxuXHRcdFt1c2VyX2lkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIHBob25lLCBhZGRyZXNzLCBjaXR5LCB6aXAsIGJpb11cblx0KTtcblx0cmV0dXJuIHtcblx0XHRpZDogcmVzdWx0Lmxhc3RJRCxcblx0XHR1c2VyX2lkLFxuXHRcdGZpcnN0X25hbWUsXG5cdFx0bGFzdF9uYW1lLFxuXHRcdHBob25lLFxuXHRcdGFkZHJlc3MsXG5cdFx0Y2l0eSxcblx0XHR6aXAsXG5cdFx0YmlvLFxuXHR9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlSGFuZHltYW5Qcm9maWxlKHtcblx0aWQsXG5cdHNlcnZpY2VfY2F0ZWdvcnksXG5cdGV4cGVyaWVuY2VfeWVhcnMsXG5cdHNlcnZpY2VfYXJlYSxcblx0aXNfdmVyaWZpZWQsXG59OiB7XG5cdGlkOiBudW1iZXI7XG5cdHNlcnZpY2VfY2F0ZWdvcnk6IHN0cmluZztcblx0ZXhwZXJpZW5jZV95ZWFyczogbnVtYmVyO1xuXHRzZXJ2aWNlX2FyZWE6IG51bWJlcjtcblx0aXNfdmVyaWZpZWQ6IGJvb2xlYW47XG59KSB7XG5cdGNvbnN0IGRiID0gYXdhaXQgZ2V0REIoKTtcblx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgZGIucnVuKFxuXHRcdGBJTlNFUlQgSU5UTyBoYW5keW1hbl9wcm9maWxlcyAocHJvZmlsZV9pZCwgc2VydmljZV9jYXRlZ29yeSwgZXhwZXJpZW5jZV95ZWFycywgc2VydmljZV9hcmVhLCBpc192ZXJpZmllZClcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPylgLFxuXHRcdFtcblx0XHRcdGlkLFxuXHRcdFx0c2VydmljZV9jYXRlZ29yeSxcblx0XHRcdGV4cGVyaWVuY2VfeWVhcnMsXG5cdFx0XHRzZXJ2aWNlX2FyZWEsXG5cdFx0XHRpc192ZXJpZmllZCA/IDEgOiAwLFxuXHRcdF1cblx0KTtcblx0cmV0dXJuIHtcblx0XHRpZDogcmVzdWx0Lmxhc3RJRCxcblx0XHRwcm9maWxlX2lkOiBpZCxcblx0XHRzZXJ2aWNlX2NhdGVnb3J5LFxuXHRcdGV4cGVyaWVuY2VfeWVhcnMsXG5cdFx0c2VydmljZV9hcmVhLFxuXHRcdGlzX3ZlcmlmaWVkLFxuXHR9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Qm9va2luZ0J5SWQoaWQ6IG51bWJlciB8IHN0cmluZykge1xuXHRjb25zdCBkYiA9IGF3YWl0IGdldERCKCk7XG5cdHJldHVybiBhd2FpdCBkYi5nZXQoYFNFTEVDVCAqIEZST00gYm9va2luZ3MgV0hFUkUgaWQgPSA/YCwgaWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQm9va2luZ1N0YXR1cyhpZDogbnVtYmVyIHwgc3RyaW5nLCBzdGF0dXM6IHN0cmluZykge1xuXHRjb25zdCBkYiA9IGF3YWl0IGdldERCKCk7XG5cdGF3YWl0IGRiLnJ1bihgVVBEQVRFIGJvb2tpbmdzIFNFVCBzdGF0dXMgPSA/IFdIRVJFIGlkID0gP2AsIFtzdGF0dXMsIGlkXSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNZXNzYWdlKHtcblx0c2VuZGVyX2lkLFxuXHRyZWNlaXZlcl9pZCxcblx0Ym9va2luZ19pZCxcblx0Y29udGVudCxcbn06IHtcblx0c2VuZGVyX2lkOiBudW1iZXI7XG5cdHJlY2VpdmVyX2lkOiBudW1iZXI7XG5cdGJvb2tpbmdfaWQ/OiBzdHJpbmcgfCBudWxsO1xuXHRjb250ZW50OiBzdHJpbmc7XG59KSB7XG5cdGNvbnN0IGRiID0gYXdhaXQgZ2V0REIoKTtcblx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgZGIucnVuKFxuXHRcdGBJTlNFUlQgSU5UTyBtZXNzYWdlcyAoc2VuZGVyX2lkLCByZWNlaXZlcl9pZCwgYm9va2luZ19pZCwgY29udGVudCwgY3JlYXRlZF9hdClcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgZGF0ZXRpbWUoJ25vdycpKWAsXG5cdFx0W3NlbmRlcl9pZCwgcmVjZWl2ZXJfaWQsIGJvb2tpbmdfaWQgPz8gbnVsbCwgY29udGVudF1cblx0KTtcblx0cmV0dXJuIHtcblx0XHRpZDogcmVzdWx0Lmxhc3RJRCxcblx0XHRzZW5kZXJfaWQsXG5cdFx0cmVjZWl2ZXJfaWQsXG5cdFx0Ym9va2luZ19pZCxcblx0XHRjb250ZW50LFxuXHRcdGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0fTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbnZlcnNhdGlvbk1lc3NhZ2VzKFxuXHRwcm9maWxlSWQ6IG51bWJlcixcblx0b3RoZXJQYXJ0eUlkOiBudW1iZXIgfCBzdHJpbmdcbikge1xuXHRjb25zdCBkYiA9IGF3YWl0IGdldERCKCk7XG5cdHJldHVybiBhd2FpdCBkYi5hbGwoXG5cdFx0YFNFTEVDVCAqIEZST00gbWVzc2FnZXNcbiAgICAgICAgIFdIRVJFIChzZW5kZXJfaWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8pXG4gICAgICAgICAgICBPUiAoc2VuZGVyX2lkID0gPyBBTkQgcmVjZWl2ZXJfaWQgPSA/KVxuICAgICAgICAgT1JERVIgQlkgY3JlYXRlZF9hdCBBU0NgLFxuXHRcdFtwcm9maWxlSWQsIG90aGVyUGFydHlJZCwgb3RoZXJQYXJ0eUlkLCBwcm9maWxlSWRdXG5cdCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQ29udmVyc2F0aW9ucyhwcm9maWxlSWQ6IG51bWJlcikge1xuXHRjb25zdCBkYiA9IGF3YWl0IGdldERCKCk7XG5cdHJldHVybiBhd2FpdCBkYi5hbGwoXG5cdFx0YFNFTEVDVFxuICAgICAgICAgICAgbS4qLFxuICAgICAgICAgICAgdTEubmFtZSBhcyBzZW5kZXJfbmFtZSxcbiAgICAgICAgICAgIHUyLm5hbWUgYXMgcmVjZWl2ZXJfbmFtZVxuICAgICAgICBGUk9NIG1lc3NhZ2VzIG1cbiAgICAgICAgTEVGVCBKT0lOIHVzZXJzIHUxIE9OIG0uc2VuZGVyX2lkID0gdTEuaWRcbiAgICAgICAgTEVGVCBKT0lOIHVzZXJzIHUyIE9OIG0ucmVjZWl2ZXJfaWQgPSB1Mi5pZFxuICAgICAgICBXSEVSRSBtLnNlbmRlcl9pZCA9ID8gT1IgbS5yZWNlaXZlcl9pZCA9ID9cbiAgICAgICAgR1JPVVAgQlkgbS5yZWNlaXZlcl9pZCwgbS5zZW5kZXJfaWRcbiAgICAgICAgT1JERVIgQlkgbS5jcmVhdGVkX2F0IERFU0NgLFxuXHRcdFtwcm9maWxlSWQsIHByb2ZpbGVJZF1cblx0KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJldmlldyh7XG5cdGJvb2tpbmdfaWQsXG5cdGNsaWVudF9pZCxcblx0aGFuZHltYW5faWQsXG5cdHJhdGluZyxcblx0Y29tbWVudCxcbn06IHtcblx0Ym9va2luZ19pZDogc3RyaW5nO1xuXHRjbGllbnRfaWQ6IG51bWJlcjtcblx0aGFuZHltYW5faWQ6IG51bWJlcjtcblx0cmF0aW5nOiBudW1iZXI7XG5cdGNvbW1lbnQ6IHN0cmluZztcbn0pIHtcblx0Y29uc3QgZGIgPSBhd2FpdCBnZXREQigpO1xuXHRjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5ydW4oXG5cdFx0YElOU0VSVCBJTlRPIHJldmlld3MgKGJvb2tpbmdfaWQsIGNsaWVudF9pZCwgaGFuZHltYW5faWQsIHJhdGluZywgY29tbWVudCwgY3JlYXRlZF9hdClcbiAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgZGF0ZXRpbWUoJ25vdycpKWAsXG5cdFx0W2Jvb2tpbmdfaWQsIGNsaWVudF9pZCwgaGFuZHltYW5faWQsIHJhdGluZywgY29tbWVudF1cblx0KTtcblx0cmV0dXJuIHtcblx0XHRpZDogcmVzdWx0Lmxhc3RJRCxcblx0XHRib29raW5nX2lkLFxuXHRcdGNsaWVudF9pZCxcblx0XHRoYW5keW1hbl9pZCxcblx0XHRyYXRpbmcsXG5cdFx0Y29tbWVudCxcblx0XHRjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdH07XG59XG5cbi8vIEFkZCB0aGlzIHRvIGVuc3VyZSBwcm9wZXIgY2xlYW51cFxucHJvY2Vzcy5vbignZXhpdCcsIGFzeW5jICgpID0+IHtcblx0aWYgKGRiKSB7XG5cdFx0YXdhaXQgZGIuY2xvc2UoKTtcblx0fVxufSk7XG4iXSwibmFtZXMiOlsic3FsaXRlMyIsIm9wZW4iLCJiY3J5cHQiLCJ2ZXJib3NlIiwiZGIiLCJpbml0REIiLCJjbG9zZSIsImZpbGVuYW1lIiwiZHJpdmVyIiwiRGF0YWJhc2UiLCJleGVjIiwiY29uc29sZSIsImxvZyIsImdldERCIiwiZ2V0VXNlckJ5RW1haWwiLCJlbWFpbCIsInVzZXIiLCJnZXQiLCJyb2xlIiwidW5kZWZpbmVkIiwiZ2V0VXNlckJ5SWQiLCJpZCIsImNyZWF0ZVVzZXIiLCJwYXNzd29yZCIsIm5hbWUiLCJwaG9uZSIsImxvY2F0aW9uIiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoIiwicmVzdWx0IiwicnVuIiwibGFzdElEIiwiRXJyb3IiLCJwcm9maWxlIiwiZmlyc3RfbmFtZSIsInNwbGl0IiwibGFzdF9uYW1lIiwic2xpY2UiLCJqb2luIiwidmVyaWZ5Q3JlZGVudGlhbHMiLCJpc1ZhbGlkIiwiY29tcGFyZSIsImNyZWF0ZUJvb2tpbmciLCJjbGllbnRJZCIsInRlY2huaWNpYW5JZCIsInNlcnZpY2VJZCIsImRhdGVSZXF1ZXN0ZWQiLCJyYXRlVXNlciIsImJvb2tpbmdJZCIsInJhdGVySWQiLCJyYXRlZUlkIiwicmF0aW5nIiwiY29tbWVudCIsInNlYXJjaFNlcnZpY2VzIiwicXVlcnkiLCJoYW5keW1hbklkIiwic3FsIiwicGFyYW1zIiwicHVzaCIsInNlcnZpY2VzIiwiYWxsIiwiZ2V0UHJvZmlsZUJ5VXNlcklkIiwidXNlcklkIiwicmVzdCIsImNyZWF0ZVNlcnZpY2UiLCJzZXJ2aWNlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwicHJpY2VfdHlwZSIsImJhc2VfcHJpY2UiLCJoYW5keW1hbl9pZCIsInZlcmlmeVBhc3N3b3JkIiwiZ2V0SGFuZHltYW5Qcm9maWxlQnlJZCIsImhhbmR5bWFuIiwiY3JlYXRlUHJvZmlsZSIsInVzZXJfaWQiLCJhZGRyZXNzIiwiY2l0eSIsInppcCIsImJpbyIsImNyZWF0ZUhhbmR5bWFuUHJvZmlsZSIsInNlcnZpY2VfY2F0ZWdvcnkiLCJleHBlcmllbmNlX3llYXJzIiwic2VydmljZV9hcmVhIiwiaXNfdmVyaWZpZWQiLCJwcm9maWxlX2lkIiwiZ2V0Qm9va2luZ0J5SWQiLCJ1cGRhdGVCb29raW5nU3RhdHVzIiwic3RhdHVzIiwiY3JlYXRlTWVzc2FnZSIsInNlbmRlcl9pZCIsInJlY2VpdmVyX2lkIiwiYm9va2luZ19pZCIsImNvbnRlbnQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2V0Q29udmVyc2F0aW9uTWVzc2FnZXMiLCJwcm9maWxlSWQiLCJvdGhlclBhcnR5SWQiLCJnZXRVc2VyQ29udmVyc2F0aW9ucyIsImNyZWF0ZVJldmlldyIsImNsaWVudF9pZCIsInByb2Nlc3MiLCJvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/database.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fservices%2Froute&page=%2Fapi%2Fservices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fservices%2Froute.ts&appDir=%2Fhome%2Frojeal%2FDesktop%2Fquick-fix%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frojeal%2FDesktop%2Fquick-fix&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fservices%2Froute&page=%2Fapi%2Fservices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fservices%2Froute.ts&appDir=%2Fhome%2Frojeal%2FDesktop%2Fquick-fix%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frojeal%2FDesktop%2Fquick-fix&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_rojeal_Desktop_quick_fix_app_api_services_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/services/route.ts */ \"(rsc)/./app/api/services/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/services/route\",\n        pathname: \"/api/services\",\n        filename: \"route\",\n        bundlePath: \"app/api/services/route\"\n    },\n    resolvedPagePath: \"/home/rojeal/Desktop/quick-fix/app/api/services/route.ts\",\n    nextConfigOutput,\n    userland: _home_rojeal_Desktop_quick_fix_app_api_services_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZzZXJ2aWNlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2VydmljZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzZXJ2aWNlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcm9qZWFsJTJGRGVza3RvcCUyRnF1aWNrLWZpeCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnJvamVhbCUyRkRlc2t0b3AlMkZxdWljay1maXgmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ1E7QUFDckY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL3JvamVhbC9EZXNrdG9wL3F1aWNrLWZpeC9hcHAvYXBpL3NlcnZpY2VzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zZXJ2aWNlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NlcnZpY2VzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zZXJ2aWNlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL3JvamVhbC9EZXNrdG9wL3F1aWNrLWZpeC9hcHAvYXBpL3NlcnZpY2VzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fservices%2Froute&page=%2Fapi%2Fservices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fservices%2Froute.ts&appDir=%2Fhome%2Frojeal%2FDesktop%2Fquick-fix%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frojeal%2FDesktop%2Fquick-fix&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("bcrypt");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("sqlite3");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod","vendor-chunks/jose","vendor-chunks/sqlite"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fservices%2Froute&page=%2Fapi%2Fservices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fservices%2Froute.ts&appDir=%2Fhome%2Frojeal%2FDesktop%2Fquick-fix%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frojeal%2FDesktop%2Fquick-fix&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();